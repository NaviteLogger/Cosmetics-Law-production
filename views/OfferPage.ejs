<!DOCTYPE html>
<html lang="pl">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="../styles/normalize.css" rel="stylesheet" type="text/css" />
    <link href="../styles/GlobalStyles.css" rel="stylesheet" type="text/css" />
    <link
      href="../styles/OfferPageStyles.css"
      rel="stylesheet"
      type="text/css"
    />
    <script src="../scripts/OfferPageScript.js" defer></script>
    <title>Offer Page</title>
  </head>

  <body>
    <header>
      <div class="left">
        <a href="../pages/indexPage.html" class="nav-link">STRONA GŁÓWNA</a>
        <a href="/offerPage" class="nav-link">OFERTA</a>
        <a href="../pages/AboutUsPage.html" class="nav-link">O NAS</a>
      </div>
      <div class="middle">
        <a href="../pages/indexPage.html" class="nav-link">
          <img src="../images/logo.png" alt="Logo" id="logo" />
        </a>
      </div>
      <div class="right">
        <a href="../pages/ContactPage.html" class="nav-link nav-link-right"
          >KONTAKT</a
        >
        <button type="button" class="clients-portal" id="clients-portal">
          PANEL KLIENTA
        </button>
      </div>
    </header>

    <!-- <div class="offer-container">
      <p>
        Oferta w formie subskrypcji (30-dniowy dostęp do wypełniania wybrancyh
        zgód on-line za pośrednictwem panelu klienta):
      </p>
      <div class="offer">
        <div class="box">
          <div class="box-item">
            <h3>Standard</h3>
            <p>RODO</p>
            <p>WYWIAD</p>
            <p>ZGODA NA ZDJĘCIE</p>
            <p>1 ZGODA NA ZABIEG</p>
          </div>
          <div class="box-item">
            <button
              type="button"
              class="clients-portal buy-button"
              id="clients-portal-subscription"
            >
              KUP
            </button>
          </div>
        </div>
        <div class="box">
          <div class="box-item">
            <h3>Silver</h3>
            <p>RODO</p>
            <p>WYWIAD</p>
            <p>ZGODA NA ZDJĘCIE</p>
            <p>10 ZGÓD NA ZABIEGI</p>
          </div>
          <div class="box-item">
            <button
              type="button"
              class="clients-portal buy-button"
              id="clients-portal-subscription"
            >
              KUP
            </button>
          </div>
        </div>
        <div class="box">
          <div class="box-item">
            <h3>Gold</h3>
            <p>RODO</p>
            <p>WYWIAD</p>
            <p>ZGODA NA ZDJĘCIE</p>
            <p>30 ZGÓD NA ZABIEGI</p>
          </div>
          <div class="box-item">
            <button
              type="button"
              class="clients-portal buy-button"
              id="clients-portal-subscription"
            >
              KUP
            </button>
          </div>
        </div>
        <div class="box platinum">
          <div class="box-item">
            <h3>Platinum</h3>
            <p>RODO</p>
            <p>WYWIAD</p>
            <p>ZGODA NA ZDJĘCIE</p>
            <p>WSZYSTKIE ZGODY ZABIEGOWE</p>
          </div>
          <div class="box-item">
            <button
              type="button"
              class="clients-portal buy-button"
              id="clients-portal-subscription"
            >
              KUP
            </button>
          </div>
        </div>
      </div>
    </div> -->

    <div class="offer-container">
      <p>
        Oferta w formie subskrypcji (30-dniowy dostęp do wypełniania wybrancyh
        zgód on-line za pośrednictwem panelu klienta):
      </p>
      <div class="offer">
        <% subscriptionAgreements.forEach(subscription => { %>
        <div
          class="box <%= subscription.numberOfAgreements === null ? 'platinum' : '' %>"
        >
          <div class="box-item">
            <h3>
              <%= subscription.subscriptionName %>
            </h3>
            <p>RODO</p>
            <p>WYWIAD</p>
            <p>ZGODA NA ZDJĘCIE</p>
            <p>
              <%= subscription.numberOfAgreements === null ? 'WSZYSTKIE ZGODY ZABIEGOWE' : `ZGODY NA ZABIEGI: ${subscription.numberOfAgreements}` %>
            </p>
          </div>
          <div class="box-item">
            <button
              type="button"
              class="clients-portal buy-button"
              data-subscription-id="<%= subscription.subscriptionId %>"
            >
              KUP za <%= subscription.price %> PLN
            </button>
          </div>
        </div>
        <% }) %>
      </div>
    </div>

    <div class="center-alignment">
      <p>
        Lista dostępnych zgód (po zakupie zgody zostaną wysłane automatycznie na
        podany adres email):
      </p>
    </div>
    <form id="buy-selected-agreements-form">
      <table class="agreements-table">
        <thead>
          <tr>
            <!-- tr stands for table row -->
            <th>Wybór</th>
            <th>NAZWA ZGODY</th>
            <!-- th stands for table header -->
            <!--<th>CENA (w PLN)</th>-->
            <!--<th>KATEGORIA</th>-->
          </tr>
        </thead>
        <tbody>
          <% individualAgreements.forEach(file=> { %>
          <tr>
            <td>
              <input
                type="checkbox"
                name="agreement"
                value="<%= file.agreementId %>"
              />
            </td>
            <td><%= file.agreementName.replace(/_/g, ' ' ) %></td>
            <!-- td stands for table data -->
            <!--<td><%= file.agreementPrice %></td>-->
            <!--<td><%= file.agreementCategory %></td>-->
          </tr>
          <% }) %>
        </tbody>
      </table>
      <button
        type="button"
        class="clients-portal buy-button"
        id="buy-selected-agreements"
      >
        KUP
      </button>
    </form>
  </body>
</html>
